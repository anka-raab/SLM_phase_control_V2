<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>model.phase_settings &mdash; SLM Phase Control 1.0 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            SLM Phase Control
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../modules.html">SLM_phase_control</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">SLM Phase Control</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Module code</a></li>
      <li class="breadcrumb-item active">model.phase_settings</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Source code for model.phase_settings</h1><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">tkinter</span> <span class="k">as</span> <span class="nn">tk</span>
<span class="kn">from</span> <span class="nn">tkinter</span> <span class="kn">import</span> <span class="n">ttk</span>
<span class="kn">from</span> <span class="nn">tkinter.filedialog</span> <span class="kn">import</span> <span class="n">askopenfilename</span>
<span class="kn">import</span> <span class="nn">matplotlib.image</span> <span class="k">as</span> <span class="nn">mpimg</span>
<span class="kn">from</span> <span class="nn">model.settings</span> <span class="kn">import</span> <span class="n">slm_size</span><span class="p">,</span> <span class="n">bit_depth</span><span class="p">,</span> <span class="n">chip_width</span><span class="p">,</span> <span class="n">chip_height</span><span class="p">,</span> <span class="n">wavelength</span>
<span class="kn">import</span> <span class="nn">model.gerchberg_saxton</span> <span class="k">as</span> <span class="nn">gs</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;types in&#39;</span><span class="p">)</span>

<span class="n">types</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Background.&#39;</span><span class="p">,</span> <span class="s1">&#39;Flat&#39;</span><span class="p">,</span> <span class="s1">&#39;Tilt&#39;</span><span class="p">,</span> <span class="s1">&#39;Binary&#39;</span><span class="p">,</span> <span class="s1">&#39;Lens&#39;</span><span class="p">,</span>
         <span class="s1">&#39;Multi&#39;</span><span class="p">,</span> <span class="s1">&#39;Vortex&#39;</span><span class="p">,</span> <span class="s1">&#39;Zernike&#39;</span><span class="p">,</span> <span class="s1">&#39;Image&#39;</span><span class="p">,</span> <span class="s1">&#39;Hologram&#39;</span><span class="p">]</span>


<div class="viewcode-block" id="new_type"><a class="viewcode-back" href="../../model.html#model.phase_settings.new_type">[docs]</a><span class="k">def</span> <span class="nf">new_type</span><span class="p">(</span><span class="n">frm_mid</span><span class="p">,</span> <span class="n">typ</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Factory function for creating different types of phase.</span>

<span class="sd">    Parameters:</span>
<span class="sd">    -----------</span>
<span class="sd">    frm_mid : numpy.ndarray</span>
<span class="sd">        The input numpy array.</span>
<span class="sd">    typ : str</span>
<span class="sd">        The type of numpy array to be created. Possible values are:</span>
<span class="sd">        &#39;Flat&#39;, &#39;Tilt&#39;, &#39;Binary&#39;, &#39;Background&#39;, &#39;Lens&#39;, &#39;Multi&#39;, &#39;Vortex&#39;, &#39;Zernike&#39;, &#39;Image&#39;, &#39;Hologram&#39;.</span>

<span class="sd">    Returns:</span>
<span class="sd">    --------</span>
<span class="sd">    numpy.ndarray</span>
<span class="sd">        The numpy array of the specified type.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">typ</span> <span class="o">==</span> <span class="s1">&#39;Flat&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">TypeFlat</span><span class="p">(</span><span class="n">frm_mid</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">typ</span> <span class="o">==</span> <span class="s1">&#39;Tilt&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">TypeTilt</span><span class="p">(</span><span class="n">frm_mid</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">typ</span> <span class="o">==</span> <span class="s1">&#39;Binary&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">TypeBinary</span><span class="p">(</span><span class="n">frm_mid</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">typ</span> <span class="o">==</span> <span class="s1">&#39;Background.&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">TypeBackground</span><span class="p">(</span><span class="n">frm_mid</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">typ</span> <span class="o">==</span> <span class="s1">&#39;Lens&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">TypeLens</span><span class="p">(</span><span class="n">frm_mid</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">typ</span> <span class="o">==</span> <span class="s1">&#39;Multi&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">TypeMultibeam</span><span class="p">(</span><span class="n">frm_mid</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">typ</span> <span class="o">==</span> <span class="s1">&#39;Vortex&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">TypeVortex</span><span class="p">(</span><span class="n">frm_mid</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">typ</span> <span class="o">==</span> <span class="s1">&#39;Zernike&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">TypeZernike</span><span class="p">(</span><span class="n">frm_mid</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">typ</span> <span class="o">==</span> <span class="s1">&#39;Image&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">TypeImage</span><span class="p">(</span><span class="n">frm_mid</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">typ</span> <span class="o">==</span> <span class="s1">&#39;Hologram&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">TypeHologram</span><span class="p">(</span><span class="n">frm_mid</span><span class="p">)</span></div>


<div class="viewcode-block" id="BaseType"><a class="viewcode-back" href="../../model.html#model.phase_settings.BaseType">[docs]</a><span class="k">class</span> <span class="nc">BaseType</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Base class for all TypePhase classes.</span>

<span class="sd">    Attributes:</span>
<span class="sd">    -----------</span>
<span class="sd">    img : ndarray</span>
<span class="sd">        The image data loaded from the file.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">_read_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filepath</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Load image data from file.</span>

<span class="sd">        Parameters:</span>
<span class="sd">        -----------</span>
<span class="sd">        filepath : str</span>
<span class="sd">            The path to the file to be loaded.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Check if filepath is provided</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">filepath</span><span class="p">:</span>
            <span class="k">return</span>  <span class="c1"># Return None if filepath is not provided</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># Check if the file is a csv file</span>
            <span class="k">if</span> <span class="n">filepath</span><span class="p">[</span><span class="o">-</span><span class="mi">4</span><span class="p">:]</span> <span class="o">==</span> <span class="s1">&#39;.csv&#39;</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="c1"># If it is a csv file, load it using numpy loadtxt function</span>
                    <span class="c1"># Skip the first row (header) and read all columns except the first column</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">img</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">loadtxt</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="p">,</span> <span class="n">skiprows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">usecols</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1920</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
                <span class="k">except</span><span class="p">:</span>
                    <span class="c1"># If there&#39;s an error in loading the csv file, try loading it without skipping the header row</span>
                    <span class="n">np</span><span class="o">.</span><span class="n">loadtxt</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># If the file is not a csv file, load it using matplotlib imread function</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">img</span> <span class="o">=</span> <span class="n">mpimg</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="n">filepath</span><span class="p">)</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">img</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>  <span class="c1"># Check if the image has 3 dimensions (multicolor image)</span>
                    <span class="c1"># If the image has 3 dimensions, convert it to grayscale by summing the values across the color</span>
                    <span class="c1"># channels</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">img</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">img</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="c1"># If there&#39;s an error in loading the file, print an error message</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;File &quot;&#39;</span> <span class="o">+</span> <span class="n">filepath</span> <span class="o">+</span> <span class="s1">&#39;&quot; not found&#39;</span><span class="p">)</span>

<div class="viewcode-block" id="BaseType.open_file"><a class="viewcode-back" href="../../model.html#model.phase_settings.BaseType.open_file">[docs]</a>    <span class="k">def</span> <span class="nf">open_file</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Open a file dialog to choose a file and load its data.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">filepath</span> <span class="o">=</span> <span class="n">askopenfilename</span><span class="p">(</span>
            <span class="n">filetypes</span><span class="o">=</span><span class="p">[(</span><span class="s1">&#39;CSV data arrays&#39;</span><span class="p">,</span> <span class="s1">&#39;*.csv&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;Image Files&#39;</span><span class="p">,</span> <span class="s1">&#39;*.bmp&#39;</span><span class="p">),</span>
                       <span class="p">(</span><span class="s1">&#39;All Files&#39;</span><span class="p">,</span> <span class="s1">&#39;*.*&#39;</span><span class="p">)]</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_read_file</span><span class="p">(</span><span class="n">filepath</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lbl_file</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">filepath</span><span class="si">}</span><span class="s1">&#39;</span></div>

<div class="viewcode-block" id="BaseType.callback"><a class="viewcode-back" href="../../model.html#model.phase_settings.BaseType.callback">[docs]</a>    <span class="k">def</span> <span class="nf">callback</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">action</span><span class="p">,</span> <span class="n">P</span><span class="p">,</span> <span class="n">text</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Callback function for text input validation.</span>

<span class="sd">        Parameters:</span>
<span class="sd">        -----------</span>
<span class="sd">        action : str</span>
<span class="sd">            The action to be performed on the text (e.g. insert, delete).</span>
<span class="sd">        P : str</span>
<span class="sd">            The current value of the text.</span>
<span class="sd">        text : str</span>
<span class="sd">            The new text to be inserted.</span>

<span class="sd">        Returns:</span>
<span class="sd">        --------</span>
<span class="sd">        bool</span>
<span class="sd">            True if the text is valid, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># action=1 -&gt; insert</span>
        <span class="k">if</span> <span class="n">action</span> <span class="o">==</span> <span class="s1">&#39;1&#39;</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">text</span> <span class="ow">in</span> <span class="s1">&#39;0123456789.-+&#39;</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="nb">float</span><span class="p">(</span><span class="n">P</span><span class="p">)</span>
                    <span class="k">return</span> <span class="kc">True</span>
                <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                    <span class="k">return</span> <span class="kc">False</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span></div>

<div class="viewcode-block" id="BaseType.name_"><a class="viewcode-back" href="../../model.html#model.phase_settings.BaseType.name_">[docs]</a>    <span class="k">def</span> <span class="nf">name_</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the name of the object.</span>

<span class="sd">        Returns:</span>
<span class="sd">        --------</span>
<span class="sd">        str</span>
<span class="sd">            The name of the object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span></div>

<div class="viewcode-block" id="BaseType.close_"><a class="viewcode-back" href="../../model.html#model.phase_settings.BaseType.close_">[docs]</a>    <span class="k">def</span> <span class="nf">close_</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Close the object&#39;s frame.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">frm_</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span></div></div>


<div class="viewcode-block" id="TypeBackground"><a class="viewcode-back" href="../../model.html#model.phase_settings.TypeBackground">[docs]</a><span class="k">class</span> <span class="nc">TypeBackground</span><span class="p">(</span><span class="n">BaseType</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A class for managing the background settings for a phase calculation.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    parent : Tk object</span>
<span class="sd">        The parent window for the frame.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    name : str</span>
<span class="sd">        The name of the background type.</span>
<span class="sd">    frm_ : Tk frame object</span>
<span class="sd">        The frame that contains the background settings.</span>
<span class="sd">    lbl_file : Tk label object</span>
<span class="sd">        The label that displays the selected file.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initialize the TypeBackground class.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        parent : Tk object</span>
<span class="sd">            The parent window for the frame.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;Background&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">frm_</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">parent</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">frm_</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">)</span>

        <span class="c1"># Create a label frame for the background settings</span>
        <span class="n">lbl_frm</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">LabelFrame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frm_</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Background&#39;</span><span class="p">)</span>
        <span class="n">lbl_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">)</span>

        <span class="c1"># Create a button for opening the background file</span>
        <span class="n">btn_open</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">lbl_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Open Background file&#39;</span><span class="p">,</span>
                             <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">open_file</span><span class="p">)</span>
        <span class="n">btn_open</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

        <span class="c1"># Create a label for displaying the selected file</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lbl_file</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">lbl_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">wraplength</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span>
                                 <span class="n">justify</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">foreground</span><span class="o">=</span><span class="s1">&#39;gray&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lbl_file</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<div class="viewcode-block" id="TypeBackground.phase"><a class="viewcode-back" href="../../model.html#model.phase_settings.TypeBackground.phase">[docs]</a>    <span class="k">def</span> <span class="nf">phase</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return the phase data based on the selected background file.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        phase : numpy array</span>
<span class="sd">            The phase data.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">lbl_file</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
            <span class="n">phase</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">img</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">phase</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">slm_size</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">phase</span></div>

<div class="viewcode-block" id="TypeBackground.save_"><a class="viewcode-back" href="../../model.html#model.phase_settings.TypeBackground.save_">[docs]</a>    <span class="k">def</span> <span class="nf">save_</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Save the current state of the TypeBackground object.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        dict : dict</span>
<span class="sd">            A dictionary of the current state.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;filepath&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">lbl_file</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">]}</span>
        <span class="k">return</span> <span class="nb">dict</span></div>

<div class="viewcode-block" id="TypeBackground.load_"><a class="viewcode-back" href="../../model.html#model.phase_settings.TypeBackground.load_">[docs]</a>    <span class="k">def</span> <span class="nf">load_</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Load a saved state for the TypeBackground object.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        dict : dict</span>
<span class="sd">            A dictionary of the saved state.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lbl_file</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">[</span><span class="s1">&#39;filepath&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_read_file</span><span class="p">(</span><span class="nb">dict</span><span class="p">[</span><span class="s1">&#39;filepath&#39;</span><span class="p">])</span></div></div>


<div class="viewcode-block" id="TypeFlat"><a class="viewcode-back" href="../../model.html#model.phase_settings.TypeFlat">[docs]</a><span class="k">class</span> <span class="nc">TypeFlat</span><span class="p">(</span><span class="n">BaseType</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A class for managing the flat settings for a phase calculation.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    parent : Tk object</span>
<span class="sd">        The parent window for the frame.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    name : str</span>
<span class="sd">        The name of the flat type.</span>
<span class="sd">    frm_ : Tk frame object</span>
<span class="sd">        The frame that contains the flat settings.</span>
<span class="sd">    ent_flat : Tk entry object</span>
<span class="sd">        The entry box for the phase shift value.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initialize the TypeFlat class.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        parent : Tk object</span>
<span class="sd">            The parent window for the frame.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;Flat&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">frm_</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">parent</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">frm_</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">)</span>

        <span class="c1"># Create a label frame for the flat settings</span>
        <span class="n">lbl_frm</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">LabelFrame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frm_</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Flat&#39;</span><span class="p">)</span>
        <span class="n">lbl_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">)</span>

        <span class="c1"># Create a label and entry box for the phase shift value</span>
        <span class="n">lbl_phi</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">lbl_frm</span><span class="p">,</span>
                           <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Phase shift (&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">bit_depth</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;=2pi):&#39;</span><span class="p">)</span>
        <span class="n">vcmd</span> <span class="o">=</span> <span class="p">(</span><span class="n">parent</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">callback</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">strvar_flat</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">StringVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ent_flat</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span>
            <span class="n">lbl_frm</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">,</span>
            <span class="n">validatecommand</span><span class="o">=</span><span class="p">(</span><span class="n">vcmd</span><span class="p">,</span> <span class="s1">&#39;</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;%P&#39;</span><span class="p">,</span> <span class="s1">&#39;%S&#39;</span><span class="p">),</span>
            <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">strvar_flat</span><span class="p">)</span>
        <span class="n">lbl_phi</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ent_flat</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>

<div class="viewcode-block" id="TypeFlat.phase"><a class="viewcode-back" href="../../model.html#model.phase_settings.TypeFlat.phase">[docs]</a>    <span class="k">def</span> <span class="nf">phase</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return the phase data based on the selected flat settings.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        phase : numpy array</span>
<span class="sd">            The phase data.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ent_flat</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
            <span class="n">phi</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ent_flat</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">phi</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">phase</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="n">slm_size</span><span class="p">)</span> <span class="o">*</span> <span class="n">phi</span>
        <span class="k">return</span> <span class="n">phase</span></div>

<div class="viewcode-block" id="TypeFlat.save_"><a class="viewcode-back" href="../../model.html#model.phase_settings.TypeFlat.save_">[docs]</a>    <span class="k">def</span> <span class="nf">save_</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Save the current state of the TypeFlat object.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        dict : dict</span>
<span class="sd">            A dictionary of the current state.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;flat_phase&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">ent_flat</span><span class="o">.</span><span class="n">get</span><span class="p">()}</span>
        <span class="k">return</span> <span class="nb">dict</span></div>

<div class="viewcode-block" id="TypeFlat.load_"><a class="viewcode-back" href="../../model.html#model.phase_settings.TypeFlat.load_">[docs]</a>    <span class="k">def</span> <span class="nf">load_</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Load a saved state for the TypeFlat object.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        dict : dict</span>
<span class="sd">            A dictionary of the saved state.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">strvar_flat</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="nb">dict</span><span class="p">[</span><span class="s1">&#39;flat_phase&#39;</span><span class="p">])</span></div></div>


<div class="viewcode-block" id="TypeTilt"><a class="viewcode-back" href="../../model.html#model.phase_settings.TypeTilt">[docs]</a><span class="k">class</span> <span class="nc">TypeTilt</span><span class="p">(</span><span class="n">BaseType</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A class to set the parameters for a tilted phase.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    name : str</span>
<span class="sd">        The name of the type of tilt.</span>
<span class="sd">    frm_ : tkinter Frame</span>
<span class="sd">        A tkinter Frame object.</span>
<span class="sd">    strvar_xdir : tkinter StringVar</span>
<span class="sd">        A tkinter variable for the steepness along x-direction.</span>
<span class="sd">    strvar_ydir : tkinter StringVar</span>
<span class="sd">        A tkinter variable for the steepness along y-direction.</span>
<span class="sd">    strvar_tstep : tkinter StringVar</span>
<span class="sd">        A tkinter variable for the step per click.</span>
<span class="sd">    ent_xdir : tkinter Entry</span>
<span class="sd">        A tkinter Entry object for the steepness along x-direction.</span>
<span class="sd">    ent_ydir : tkinter Entry</span>
<span class="sd">        A tkinter Entry object for the steepness along y-direction.</span>
<span class="sd">    ent_tstep : tkinter Entry</span>
<span class="sd">        A tkinter Entry object for the step per click.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initialize the TypeTilt class.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        parent : Tk object</span>
<span class="sd">            The parent window for the frame.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;Tilt&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">frm_</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">parent</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">frm_</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">)</span>
        <span class="n">lbl_frm</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">LabelFrame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frm_</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Tilt&#39;</span><span class="p">)</span>
        <span class="n">lbl_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

        <span class="c1"># Creating objects</span>
        <span class="n">lbl_xdir</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">lbl_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Steepness along x-direction:&#39;</span><span class="p">)</span>
        <span class="n">lbl_ydir</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">lbl_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Steepness along y-direction:&#39;</span><span class="p">)</span>
        <span class="n">lbl_bit</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">lbl_frm</span><span class="p">,</span>
                           <span class="n">text</span><span class="o">=</span><span class="s1">&#39;(&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">bit_depth</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39; corresponds to 2pi Rad)&#39;</span><span class="p">)</span>
        <span class="n">lbl_step</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">lbl_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;(wasd) Step per click:&#39;</span><span class="p">)</span>
        <span class="n">vcmd</span> <span class="o">=</span> <span class="p">(</span><span class="n">parent</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">callback</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">strvar_xdir</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">StringVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">strvar_ydir</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">StringVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ent_xdir</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span>
            <span class="n">lbl_frm</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">,</span>
            <span class="n">validatecommand</span><span class="o">=</span><span class="p">(</span><span class="n">vcmd</span><span class="p">,</span> <span class="s1">&#39;</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;%P&#39;</span><span class="p">,</span> <span class="s1">&#39;%S&#39;</span><span class="p">),</span>
            <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">strvar_xdir</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ent_ydir</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span>
            <span class="n">lbl_frm</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">,</span>
            <span class="n">validatecommand</span><span class="o">=</span><span class="p">(</span><span class="n">vcmd</span><span class="p">,</span> <span class="s1">&#39;</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;%P&#39;</span><span class="p">,</span> <span class="s1">&#39;%S&#39;</span><span class="p">),</span>
            <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">strvar_ydir</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">strvar_tstep</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">StringVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ent_tstep</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span>
            <span class="n">lbl_frm</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">,</span>
            <span class="n">validatecommand</span><span class="o">=</span><span class="p">(</span><span class="n">vcmd</span><span class="p">,</span> <span class="s1">&#39;</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;%P&#39;</span><span class="p">,</span> <span class="s1">&#39;%S&#39;</span><span class="p">),</span>
            <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">strvar_tstep</span><span class="p">)</span>

        <span class="c1"># Setting up</span>
        <span class="n">lbl_xdir</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="n">lbl_ydir</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">pady</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
        <span class="n">lbl_bit</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="n">pady</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ent_xdir</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ent_ydir</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
        <span class="n">lbl_step</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">pady</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ent_tstep</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>

<div class="viewcode-block" id="TypeTilt.phase"><a class="viewcode-back" href="../../model.html#model.phase_settings.TypeTilt.phase">[docs]</a>    <span class="k">def</span> <span class="nf">phase</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return the phase data based on the selected tilt settings.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        phase : numpy array</span>
<span class="sd">            The phase data.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">x_dir</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ent_xdir</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
        <span class="n">y_dir</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ent_ydir</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">y_dir</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span> <span class="ow">and</span> <span class="nb">float</span><span class="p">(</span><span class="n">y_dir</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">lim</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="n">slm_size</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">*</span> <span class="nb">float</span><span class="p">(</span><span class="n">y_dir</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">slm_size</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span>
            <span class="n">phy</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="n">lim</span><span class="p">,</span> <span class="o">+</span><span class="n">lim</span><span class="p">,</span> <span class="n">slm_size</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">phy</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">slm_size</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">x_dir</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span> <span class="ow">and</span> <span class="nb">float</span><span class="p">(</span><span class="n">x_dir</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">lim</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="n">slm_size</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="nb">float</span><span class="p">(</span><span class="n">x_dir</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">slm_size</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span>
            <span class="n">phx</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="n">lim</span><span class="p">,</span> <span class="o">+</span><span class="n">lim</span><span class="p">,</span> <span class="n">slm_size</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">phx</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">slm_size</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">phx</span> <span class="o">+</span> <span class="n">phy</span></div>

<div class="viewcode-block" id="TypeTilt.left_"><a class="viewcode-back" href="../../model.html#model.phase_settings.TypeTilt.left_">[docs]</a>    <span class="k">def</span> <span class="nf">left_</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Increase the value of `strvar_xdir` by the value of `strvar_tstep`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">tmp</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">strvar_xdir</span><span class="o">.</span><span class="n">get</span><span class="p">())</span> <span class="o">+</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">strvar_tstep</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">strvar_xdir</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">tmp</span><span class="p">)</span></div>

<div class="viewcode-block" id="TypeTilt.right_"><a class="viewcode-back" href="../../model.html#model.phase_settings.TypeTilt.right_">[docs]</a>    <span class="k">def</span> <span class="nf">right_</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Decreases the value of `strvar_xdir` by the value of `strvar_tstep`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">tmp</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">strvar_xdir</span><span class="o">.</span><span class="n">get</span><span class="p">())</span> <span class="o">-</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">strvar_tstep</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">strvar_xdir</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">tmp</span><span class="p">)</span></div>

<div class="viewcode-block" id="TypeTilt.up_"><a class="viewcode-back" href="../../model.html#model.phase_settings.TypeTilt.up_">[docs]</a>    <span class="k">def</span> <span class="nf">up_</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Increase the value of `strvar_ydir` by the value of `strvar_tstep`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">tmp</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">strvar_ydir</span><span class="o">.</span><span class="n">get</span><span class="p">())</span> <span class="o">+</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">strvar_tstep</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">strvar_ydir</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">tmp</span><span class="p">)</span></div>

<div class="viewcode-block" id="TypeTilt.down_"><a class="viewcode-back" href="../../model.html#model.phase_settings.TypeTilt.down_">[docs]</a>    <span class="k">def</span> <span class="nf">down_</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Decreases the value of `strvar_ydir` by the value of `strvar_tstep`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">tmp</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">strvar_ydir</span><span class="o">.</span><span class="n">get</span><span class="p">())</span> <span class="o">-</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">strvar_tstep</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">strvar_ydir</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">tmp</span><span class="p">)</span></div>

<div class="viewcode-block" id="TypeTilt.save_"><a class="viewcode-back" href="../../model.html#model.phase_settings.TypeTilt.save_">[docs]</a>    <span class="k">def</span> <span class="nf">save_</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Save the current state of the TypeTilt object.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        dict : dict</span>
<span class="sd">            A dictionary of the current state.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;ent_xdir&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">ent_xdir</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                <span class="s1">&#39;ent_ydir&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">ent_ydir</span><span class="o">.</span><span class="n">get</span><span class="p">()}</span>
        <span class="k">return</span> <span class="nb">dict</span></div>

<div class="viewcode-block" id="TypeTilt.load_"><a class="viewcode-back" href="../../model.html#model.phase_settings.TypeTilt.load_">[docs]</a>    <span class="k">def</span> <span class="nf">load_</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Load a saved state for the TypeTilt object.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        dict : dict</span>
<span class="sd">            A dictionary of the saved state.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">strvar_xdir</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="nb">dict</span><span class="p">[</span><span class="s1">&#39;ent_xdir&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">strvar_ydir</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="nb">dict</span><span class="p">[</span><span class="s1">&#39;ent_ydir&#39;</span><span class="p">])</span></div></div>


<div class="viewcode-block" id="TypeBinary"><a class="viewcode-back" href="../../model.html#model.phase_settings.TypeBinary">[docs]</a><span class="k">class</span> <span class="nc">TypeBinary</span><span class="p">(</span><span class="n">BaseType</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A class that represents binary settings for phase.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    name : str</span>
<span class="sd">        The name of the class.</span>
<span class="sd">    frm_ : Tkinter Frame</span>
<span class="sd">        The frame object representing the binary settings for phase.</span>
<span class="sd">    cbx_dir : ttk.Combobox</span>
<span class="sd">        The combobox object for selecting the split direction.</span>
<span class="sd">    ent_area : Tkinter Spinbox</span>
<span class="sd">        The spinbox object for entering the area amount in percentage.</span>
<span class="sd">    ent_phi : Tkinter Entry</span>
<span class="sd">        The entry object for entering the phase change in pi.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initialize the TypeBinary class.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        parent : Tk object</span>
<span class="sd">            The parent window for the frame.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;Binary&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">frm_</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">parent</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">frm_</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">)</span>
        <span class="n">lbl_frm</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">LabelFrame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frm_</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Binary&#39;</span><span class="p">)</span>
        <span class="n">lbl_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

        <span class="c1"># Creating entities</span>
        <span class="n">lbl_dir</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">lbl_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Direction for split:&#39;</span><span class="p">)</span>
        <span class="n">lbl_rat</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">lbl_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Area amount (in %):&#39;</span><span class="p">)</span>
        <span class="n">lbl_phi</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">lbl_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Phase change (in pi):&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cbx_dir</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Combobox</span><span class="p">(</span>
            <span class="n">lbl_frm</span><span class="p">,</span>
            <span class="n">values</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Horizontal&#39;</span><span class="p">,</span> <span class="s1">&#39;Vertical&#39;</span><span class="p">],</span>
            <span class="n">state</span><span class="o">=</span><span class="s1">&#39;readonly&#39;</span><span class="p">,</span>
            <span class="n">width</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ent_area</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Spinbox</span><span class="p">(</span><span class="n">lbl_frm</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">from_</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">to</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
        <span class="n">vcmd</span> <span class="o">=</span> <span class="p">(</span><span class="n">parent</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">callback</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">strvar_phi</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">StringVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ent_phi</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">lbl_frm</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">,</span>
                                <span class="n">validatecommand</span><span class="o">=</span><span class="p">(</span><span class="n">vcmd</span><span class="p">,</span> <span class="s1">&#39;</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;%P&#39;</span><span class="p">,</span> <span class="s1">&#39;%S&#39;</span><span class="p">),</span>
                                <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">strvar_phi</span><span class="p">)</span>

        <span class="c1"># Setting up</span>
        <span class="n">lbl_dir</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="n">lbl_rat</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
        <span class="n">lbl_phi</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cbx_dir</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ent_area</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ent_phi</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>

<div class="viewcode-block" id="TypeBinary.phase"><a class="viewcode-back" href="../../model.html#model.phase_settings.TypeBinary.phase">[docs]</a>    <span class="k">def</span> <span class="nf">phase</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generate the phase matrix based on the binary settings for the phase.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        numpy.ndarray</span>
<span class="sd">            The phase matrix generated based on the binary settings.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">direc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cbx_dir</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ent_area</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
            <span class="n">area</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ent_area</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">area</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ent_phi</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
            <span class="n">tmp</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ent_phi</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
            <span class="n">phi</span> <span class="o">=</span> <span class="n">tmp</span> <span class="o">*</span> <span class="n">bit_depth</span> <span class="o">/</span> <span class="mi">2</span>  <span class="c1"># Converting to 0-2pi</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">phi</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="n">phase_mat</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">slm_size</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">direc</span> <span class="o">==</span> <span class="s1">&#39;Horizontal&#39;</span><span class="p">:</span>
            <span class="n">cutpixel</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">slm_size</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">area</span> <span class="o">/</span> <span class="mi">100</span><span class="p">))</span>
            <span class="n">tmp</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">([</span><span class="n">cutpixel</span><span class="p">,</span> <span class="n">slm_size</span><span class="p">[</span><span class="mi">1</span><span class="p">]])</span> <span class="o">*</span> <span class="n">phi</span>
            <span class="n">phase_mat</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="n">cutpixel</span><span class="p">,</span> <span class="p">:]</span> <span class="o">=</span> <span class="n">tmp</span>
        <span class="k">elif</span> <span class="n">direc</span> <span class="o">==</span> <span class="s1">&#39;Vertical&#39;</span><span class="p">:</span>
            <span class="n">cutpixel</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">slm_size</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">area</span> <span class="o">/</span> <span class="mi">100</span><span class="p">))</span>
            <span class="n">tmp</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">([</span><span class="n">slm_size</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">cutpixel</span><span class="p">])</span> <span class="o">*</span> <span class="n">phi</span>
            <span class="n">phase_mat</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">:</span><span class="n">cutpixel</span><span class="p">]</span> <span class="o">=</span> <span class="n">tmp</span>
        <span class="k">del</span> <span class="n">tmp</span>
        <span class="k">return</span> <span class="n">phase_mat</span></div>

<div class="viewcode-block" id="TypeBinary.save_"><a class="viewcode-back" href="../../model.html#model.phase_settings.TypeBinary.save_">[docs]</a>    <span class="k">def</span> <span class="nf">save_</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Save the current state of the TypeBinary object.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        dict : dict</span>
<span class="sd">            A dictionary of the current state.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;direc&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">cbx_dir</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                <span class="s1">&#39;area&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">ent_area</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                <span class="s1">&#39;phi&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">ent_phi</span><span class="o">.</span><span class="n">get</span><span class="p">()}</span>
        <span class="k">return</span> <span class="nb">dict</span></div>

<div class="viewcode-block" id="TypeBinary.load_"><a class="viewcode-back" href="../../model.html#model.phase_settings.TypeBinary.load_">[docs]</a>    <span class="k">def</span> <span class="nf">load_</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Load a saved state for the TypeBinary object.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        dict : dict</span>
<span class="sd">            A dictionary of the saved state.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">dict</span><span class="p">[</span><span class="s1">&#39;direc&#39;</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;Vertical&#39;</span> <span class="ow">and</span> <span class="nb">dict</span><span class="p">[</span><span class="s1">&#39;direc&#39;</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;Horizontal&#39;</span><span class="p">:</span>
            <span class="nb">dict</span><span class="p">[</span><span class="s1">&#39;direc&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Vertical&#39;</span>
        <span class="n">tmpind</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cbx_dir</span><span class="p">[</span><span class="s1">&#39;values&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="nb">dict</span><span class="p">[</span><span class="s1">&#39;direc&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cbx_dir</span><span class="o">.</span><span class="n">current</span><span class="p">(</span><span class="n">tmpind</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ent_area</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">tk</span><span class="o">.</span><span class="n">END</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ent_area</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">dict</span><span class="p">[</span><span class="s1">&#39;area&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">strvar_phi</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="nb">dict</span><span class="p">[</span><span class="s1">&#39;phi&#39;</span><span class="p">])</span></div></div>


<div class="viewcode-block" id="TypeLens"><a class="viewcode-back" href="../../model.html#model.phase_settings.TypeLens">[docs]</a><span class="k">class</span> <span class="nc">TypeLens</span><span class="p">(</span><span class="n">BaseType</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A class that represents the lens settings for phase.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    name : str</span>
<span class="sd">        The name of the class, which is &quot;Lens&quot;.</span>
<span class="sd">    frm_ : tk.Frame</span>
<span class="sd">        A tkinter frame object.</span>
<span class="sd">    strvar_ben : tk.StringVar</span>
<span class="sd">        A tkinter variable that stores the bending strength.</span>
<span class="sd">    ent_ben : tk.Entry</span>
<span class="sd">        A tkinter entry object for bending strength input.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initialize the TypeLens class.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        parent : Tk object</span>
<span class="sd">            The parent window for the frame.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;Lens&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">frm_</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">parent</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">frm_</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">)</span>
        <span class="n">lbl_frm</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">LabelFrame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frm_</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Lens&#39;</span><span class="p">)</span>
        <span class="n">lbl_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">)</span>

        <span class="c1"># creating labels</span>
        <span class="n">lbl_ben</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">lbl_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Bending strength (1/f) [1/m]:&#39;</span><span class="p">)</span>

        <span class="c1"># creating entries</span>
        <span class="n">vcmd</span> <span class="o">=</span> <span class="p">(</span><span class="n">parent</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">callback</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">strvar_ben</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">StringVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ent_ben</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">lbl_frm</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">,</span> <span class="n">validatecommand</span><span class="o">=</span><span class="p">(</span><span class="n">vcmd</span><span class="p">,</span> <span class="s1">&#39;</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;%P&#39;</span><span class="p">,</span> <span class="s1">&#39;%S&#39;</span><span class="p">),</span>
                                <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">strvar_ben</span><span class="p">)</span>

        <span class="c1"># setup</span>
        <span class="n">lbl_ben</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ent_ben</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>

<div class="viewcode-block" id="TypeLens.phase"><a class="viewcode-back" href="../../model.html#model.phase_settings.TypeLens.phase">[docs]</a>    <span class="k">def</span> <span class="nf">phase</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the phase calculated via the hyperbolic curves.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Z_phi : numpy.ndarray</span>
<span class="sd">            An array that contains the calculated phase.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ent_ben</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
            <span class="n">ben</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ent_ben</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">ben</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="n">rad_sign</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sign</span><span class="p">(</span><span class="n">ben</span><span class="p">)</span>
        <span class="n">rad</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">ben</span><span class="p">)</span>  <span class="c1"># R=2*f</span>
        <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="n">chip_width</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="n">chip_width</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="n">slm_size</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="n">chip_height</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="n">chip_height</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="n">slm_size</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="p">[</span><span class="n">X</span><span class="p">,</span> <span class="n">Y</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">meshgrid</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
        <span class="n">R</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">X</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">Y</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span>  <span class="c1"># radius on a 2d array</span>
        <span class="n">Z</span> <span class="o">=</span> <span class="n">rad_sign</span> <span class="o">*</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">rad</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">R</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="n">rad</span><span class="p">)</span>
        <span class="n">Z_phi</span> <span class="o">=</span> <span class="n">Z</span> <span class="o">/</span> <span class="n">wavelength</span> <span class="o">*</span> <span class="n">bit_depth</span>  <span class="c1"># translating meters to wavelengths and phase</span>
        <span class="k">del</span> <span class="n">X</span><span class="p">,</span> <span class="n">Y</span><span class="p">,</span> <span class="n">R</span><span class="p">,</span> <span class="n">Z</span>

        <span class="k">return</span> <span class="n">Z_phi</span></div>

<div class="viewcode-block" id="TypeLens.save_"><a class="viewcode-back" href="../../model.html#model.phase_settings.TypeLens.save_">[docs]</a>    <span class="k">def</span> <span class="nf">save_</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Save the current state of the TypeLens object.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        dict : dict</span>
<span class="sd">            A dictionary of the current state.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;ben&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">ent_ben</span><span class="o">.</span><span class="n">get</span><span class="p">()}</span>
        <span class="k">return</span> <span class="nb">dict</span></div>

<div class="viewcode-block" id="TypeLens.load_"><a class="viewcode-back" href="../../model.html#model.phase_settings.TypeLens.load_">[docs]</a>    <span class="k">def</span> <span class="nf">load_</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Load a saved state for the TypeLens object.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        dict : dict</span>
<span class="sd">            A dictionary of the saved state.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">strvar_ben</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="nb">dict</span><span class="p">[</span><span class="s1">&#39;ben&#39;</span><span class="p">])</span></div></div>


<div class="viewcode-block" id="TypeMultibeam"><a class="viewcode-back" href="../../model.html#model.phase_settings.TypeMultibeam">[docs]</a><span class="k">class</span> <span class="nc">TypeMultibeam</span><span class="p">(</span><span class="n">BaseType</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Represents multibeam checkerboard settings for phase.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    name : str</span>
<span class="sd">        The name of the multibeam setting.</span>
<span class="sd">    frm_ : tkinter.Frame</span>
<span class="sd">        The parent frame for the multibeam setting.</span>
<span class="sd">    strvar_n : tkinter.StringVar</span>
<span class="sd">        A string variable for the &#39;n&#39; entry field.</span>
<span class="sd">    ent_n : tkinter.Entry</span>
<span class="sd">        The &#39;n&#39; entry field.</span>
<span class="sd">    strvar_hpt : tkinter.StringVar</span>
<span class="sd">        A string variable for the horizontal spread entry field.</span>
<span class="sd">    ent_hpt : tkinter.Entry</span>
<span class="sd">        The horizontal spread entry field.</span>
<span class="sd">    strvar_vpt : tkinter.StringVar</span>
<span class="sd">        A string variable for the vertical spread entry field.</span>
<span class="sd">    ent_vpt : tkinter.Entry</span>
<span class="sd">        The vertical spread entry field.</span>
<span class="sd">    strvar_rad : tkinter.StringVar</span>
<span class="sd">        A string variable for the phase entry field.</span>
<span class="sd">    ent_rad : tkinter.Entry</span>
<span class="sd">        The phase entry field.</span>
<span class="sd">    strvar_amp : tkinter.StringVar</span>
<span class="sd">        A string variable for the beam selection entry field.</span>
<span class="sd">    ent_amp : tkinter.Entry</span>
<span class="sd">        The beam selection entry field.</span>
<span class="sd">    strvar_hit : tkinter.StringVar</span>
<span class="sd">        A string variable for the horizontal intensity tilt entry field.</span>
<span class="sd">    ent_hit : tkinter.Entry</span>
<span class="sd">        The horizontal intensity tilt entry field.</span>
<span class="sd">    strvar_vit : tkinter.StringVar</span>
<span class="sd">        A string variable for the vertical intensity tilt entry field.</span>
<span class="sd">    ent_vit : tkinter.Entry</span>
<span class="sd">        The vertical intensity tilt entry field.</span>
<span class="sd">    strvar_his : tkinter.StringVar</span>
<span class="sd">        A string variable for the horizontal intensity curve entry field.</span>
<span class="sd">    ent_his : tkinter.Entry</span>
<span class="sd">        The horizontal intensity curve entry field.</span>
<span class="sd">    strvar_vis : tkinter.StringVar</span>
<span class="sd">        A string variable for the vertical intensity curve entry field.</span>
<span class="sd">    ent_vis : tkinter.Entry</span>
<span class="sd">        The vertical intensity curve entry field.</span>
<span class="sd">    strvar_pxsiz : tkinter.StringVar</span>
<span class="sd">        A string variable for the pixel size entry field.</span>
<span class="sd">    ent_pxsiz : tkinter.Entry</span>
<span class="sd">        The pixel size entry field.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initialize the TypeMultibeam class.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        parent : Tk object</span>
<span class="sd">            The parent window for the frame.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;Multibeam&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">frm_</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">parent</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">frm_</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">)</span>
        <span class="n">lbl_frm</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">LabelFrame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frm_</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Multibeam&#39;</span><span class="p">)</span>
        <span class="n">lbl_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">)</span>

        <span class="c1"># creating frames</span>
        <span class="n">frm_n</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">lbl_frm</span><span class="p">)</span>
        <span class="n">frm_sprrad</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">lbl_frm</span><span class="p">)</span>
        <span class="n">frm_spr</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">frm_sprrad</span><span class="p">)</span>
        <span class="n">frm_rad</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">frm_sprrad</span><span class="p">)</span>
        <span class="n">frm_int</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">lbl_frm</span><span class="p">)</span>
        <span class="n">frm_pxsiz</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">lbl_frm</span><span class="p">)</span>

        <span class="c1"># creating labels</span>
        <span class="n">lbl_n</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">frm_n</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;n^2; n=:&#39;</span><span class="p">)</span>
        <span class="n">lbl_hor</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">frm_int</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Hor:&#39;</span><span class="p">)</span>
        <span class="n">lbl_vert</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">frm_int</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Vert:&#39;</span><span class="p">)</span>
        <span class="n">lbl_intil</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">frm_int</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Intensity tilt&#39;</span><span class="p">)</span>
        <span class="n">lbl_insqr</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">frm_int</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Intensity curve&#39;</span><span class="p">)</span>
        <span class="n">lbl_horspr</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">frm_spr</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Horizontal spread:&#39;</span><span class="p">)</span>
        <span class="n">lbl_verspr</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">frm_spr</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Vertical spread:&#39;</span><span class="p">)</span>
        <span class="n">lbl_cph</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">frm_sprrad</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Hyp.phase diff&#39;</span><span class="p">)</span>
        <span class="n">lbl_rad</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">frm_rad</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Phase[&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">bit_depth</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;]:&#39;</span><span class="p">)</span>
        <span class="n">lbl_amp</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">frm_rad</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Choose beam:&#39;</span><span class="p">)</span>
        <span class="n">lbl_pxsiz</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">frm_pxsiz</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;pixel size:&#39;</span><span class="p">)</span>

        <span class="c1"># creating entries</span>
        <span class="n">vcmd</span> <span class="o">=</span> <span class="p">(</span><span class="n">parent</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">callback</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">strvar_n</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">StringVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ent_n</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">frm_n</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">,</span>
                              <span class="n">validatecommand</span><span class="o">=</span><span class="p">(</span><span class="n">vcmd</span><span class="p">,</span> <span class="s1">&#39;</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;%P&#39;</span><span class="p">,</span> <span class="s1">&#39;%S&#39;</span><span class="p">),</span>
                              <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">strvar_n</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">strvar_hpt</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">StringVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ent_hpt</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">frm_spr</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">,</span>
                                <span class="n">validatecommand</span><span class="o">=</span><span class="p">(</span><span class="n">vcmd</span><span class="p">,</span> <span class="s1">&#39;</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;%P&#39;</span><span class="p">,</span> <span class="s1">&#39;%S&#39;</span><span class="p">),</span>
                                <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">strvar_hpt</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">strvar_vpt</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">StringVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ent_vpt</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">frm_spr</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">,</span>
                                <span class="n">validatecommand</span><span class="o">=</span><span class="p">(</span><span class="n">vcmd</span><span class="p">,</span> <span class="s1">&#39;</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;%P&#39;</span><span class="p">,</span> <span class="s1">&#39;%S&#39;</span><span class="p">),</span>
                                <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">strvar_vpt</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">strvar_rad</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">StringVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ent_rad</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">frm_rad</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">,</span>
                                <span class="n">validatecommand</span><span class="o">=</span><span class="p">(</span><span class="n">vcmd</span><span class="p">,</span> <span class="s1">&#39;</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;%P&#39;</span><span class="p">,</span> <span class="s1">&#39;%S&#39;</span><span class="p">),</span>
                                <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">strvar_rad</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">strvar_amp</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">StringVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ent_amp</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">frm_rad</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">,</span>
                                <span class="n">validatecommand</span><span class="o">=</span><span class="p">(</span><span class="n">vcmd</span><span class="p">,</span> <span class="s1">&#39;</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;%P&#39;</span><span class="p">,</span> <span class="s1">&#39;%S&#39;</span><span class="p">),</span>
                                <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">strvar_amp</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">strvar_hit</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">StringVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ent_hit</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">frm_int</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">,</span>
                                <span class="n">validatecommand</span><span class="o">=</span><span class="p">(</span><span class="n">vcmd</span><span class="p">,</span> <span class="s1">&#39;</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;%P&#39;</span><span class="p">,</span> <span class="s1">&#39;%S&#39;</span><span class="p">),</span>
                                <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">strvar_hit</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">strvar_vit</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">StringVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ent_vit</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">frm_int</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">,</span>
                                <span class="n">validatecommand</span><span class="o">=</span><span class="p">(</span><span class="n">vcmd</span><span class="p">,</span> <span class="s1">&#39;</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;%P&#39;</span><span class="p">,</span> <span class="s1">&#39;%S&#39;</span><span class="p">),</span>
                                <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">strvar_vit</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">strvar_his</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">StringVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ent_his</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">frm_int</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">,</span>
                                <span class="n">validatecommand</span><span class="o">=</span><span class="p">(</span><span class="n">vcmd</span><span class="p">,</span> <span class="s1">&#39;</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;%P&#39;</span><span class="p">,</span> <span class="s1">&#39;%S&#39;</span><span class="p">),</span>
                                <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">strvar_his</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">strvar_vis</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">StringVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ent_vis</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">frm_int</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">,</span>
                                <span class="n">validatecommand</span><span class="o">=</span><span class="p">(</span><span class="n">vcmd</span><span class="p">,</span> <span class="s1">&#39;</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;%P&#39;</span><span class="p">,</span> <span class="s1">&#39;%S&#39;</span><span class="p">),</span>
                                <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">strvar_vis</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">strvar_pxsiz</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">StringVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ent_pxsiz</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">frm_pxsiz</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">,</span>
                                  <span class="n">validatecommand</span><span class="o">=</span><span class="p">(</span><span class="n">vcmd</span><span class="p">,</span> <span class="s1">&#39;</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;%P&#39;</span><span class="p">,</span> <span class="s1">&#39;%S&#39;</span><span class="p">),</span>
                                  <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">strvar_pxsiz</span><span class="p">)</span>

        <span class="c1"># setup</span>
        <span class="n">frm_n</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">)</span>
        <span class="n">frm_sprrad</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">)</span>
        <span class="n">frm_int</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">)</span>
        <span class="n">frm_pxsiz</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">)</span>

        <span class="n">frm_spr</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">)</span>
        <span class="n">frm_rad</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">)</span>

        <span class="n">lbl_n</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">pady</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ent_n</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span>
                        <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="n">pady</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>

        <span class="n">lbl_horspr</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
        <span class="n">lbl_verspr</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ent_hpt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ent_vpt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>

        <span class="n">lbl_cph</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">)</span>

        <span class="n">lbl_rad</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
        <span class="n">lbl_amp</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ent_rad</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ent_amp</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>

        <span class="n">lbl_hor</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
        <span class="n">lbl_vert</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
        <span class="n">lbl_intil</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
        <span class="n">lbl_insqr</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="n">pady</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ent_hit</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ent_his</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ent_vit</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ent_vis</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="n">pady</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>

        <span class="n">lbl_pxsiz</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ent_pxsiz</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>

<div class="viewcode-block" id="TypeMultibeam.phase"><a class="viewcode-back" href="../../model.html#model.phase_settings.TypeMultibeam.phase">[docs]</a>    <span class="k">def</span> <span class="nf">phase</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Computes the phase for the multibeam class.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        numpy.ndarray</span>
<span class="sd">            Array of phase values computed.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ent_n</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
            <span class="n">n</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ent_n</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">n</span> <span class="o">=</span> <span class="mi">1</span>

        <span class="c1"># getting the different phases for the beams</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ent_hpt</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
            <span class="n">xtilt</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ent_hpt</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">xtilt</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ent_vpt</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
            <span class="n">ytilt</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ent_vpt</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">ytilt</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">tilts</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="o">-</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>  <span class="c1"># excluding the last</span>
        <span class="n">xtilts</span> <span class="o">=</span> <span class="n">tilts</span> <span class="o">*</span> <span class="n">xtilt</span> <span class="o">/</span> <span class="mi">2</span>
        <span class="n">ytilts</span> <span class="o">=</span> <span class="n">tilts</span> <span class="o">*</span> <span class="n">ytilt</span> <span class="o">/</span> <span class="mi">2</span>
        <span class="n">phases</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="n">slm_size</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">slm_size</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">n</span> <span class="o">*</span> <span class="n">n</span><span class="p">])</span>
        <span class="n">ind</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">xdir</span> <span class="ow">in</span> <span class="n">xtilts</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">ydir</span> <span class="ow">in</span> <span class="n">ytilts</span><span class="p">:</span>
                <span class="n">phases</span><span class="p">[:,</span> <span class="p">:,</span> <span class="n">ind</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">phase_tilt</span><span class="p">(</span><span class="n">xdir</span><span class="p">,</span> <span class="n">ydir</span><span class="p">)</span>
                <span class="n">ind</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="c1"># getting the hyperbolical curve on the phases</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ent_rad</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
            <span class="n">tmprad</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ent_rad</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">tmprad</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ent_amp</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
            <span class="n">amp</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ent_amp</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">amp</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="n">tmprad</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">phases</span><span class="p">[:,</span> <span class="p">:,</span> <span class="n">amp</span><span class="p">]</span> <span class="o">=</span> <span class="n">tmprad</span> <span class="o">+</span> <span class="n">phases</span><span class="p">[:,</span> <span class="p">:,</span> <span class="n">amp</span><span class="p">]</span>
            <span class="n">phases</span><span class="p">[:,</span> <span class="p">:,</span> <span class="n">amp</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">tmprad</span> <span class="o">+</span> <span class="n">phases</span><span class="p">[:,</span> <span class="p">:,</span> <span class="n">amp</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span>

        <span class="c1"># setting up for intensity control</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ent_hit</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
            <span class="n">xit</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ent_hit</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">xit</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ent_vit</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
            <span class="n">yit</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ent_vit</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">yit</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ent_his</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
            <span class="n">xis</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ent_his</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">xis</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ent_vis</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
            <span class="n">yis</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ent_vis</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">yis</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">intensities</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="n">n</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span>
        <span class="n">totnum</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ceil</span><span class="p">((</span><span class="n">slm_size</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="n">slm_size</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">n</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">n</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)))</span>  <span class="c1"># nbr of pixels for each phase</span>
        <span class="c1">#          plus n in second dimension to account for noneven placement</span>
        <span class="n">phase_nbr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">outer</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">n</span> <span class="o">**</span> <span class="mi">2</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">([</span><span class="nb">int</span><span class="p">(</span><span class="n">totnum</span><span class="p">)]))</span>

        <span class="c1"># modifying linear intensities</span>
        <span class="k">if</span> <span class="n">xit</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">xits</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="p">((</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">xit</span><span class="p">),</span> <span class="p">((</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">xit</span><span class="p">),</span> <span class="n">num</span><span class="o">=</span><span class="n">n</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">xits</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">yit</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">yits</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="p">((</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">yit</span><span class="p">),</span> <span class="p">((</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">yit</span><span class="p">),</span> <span class="n">num</span><span class="o">=</span><span class="n">n</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">yits</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
        <span class="n">ii</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">tmpx</span> <span class="ow">in</span> <span class="n">xits</span><span class="p">:</span>
            <span class="n">intensities</span><span class="p">[</span><span class="n">n</span> <span class="o">*</span> <span class="n">ii</span><span class="p">:</span><span class="n">n</span> <span class="o">*</span> <span class="p">(</span><span class="n">ii</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)]</span> <span class="o">=</span> <span class="p">(</span><span class="n">tmpx</span> <span class="o">+</span> <span class="n">yits</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
            <span class="n">ii</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="c1"># modifying square intensities</span>
        <span class="n">spread</span> <span class="o">=</span> <span class="n">tilts</span>
        <span class="n">xiss</span> <span class="o">=</span> <span class="o">-</span><span class="n">xis</span> <span class="o">*</span> <span class="p">(</span><span class="n">spread</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">-</span> <span class="n">spread</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span>
        <span class="n">yiss</span> <span class="o">=</span> <span class="o">-</span><span class="n">yis</span> <span class="o">*</span> <span class="p">(</span><span class="n">spread</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">-</span> <span class="n">spread</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span>
        <span class="n">ii</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">tmpx</span> <span class="ow">in</span> <span class="n">xiss</span><span class="p">:</span>
            <span class="n">intensities</span><span class="p">[</span><span class="n">n</span> <span class="o">*</span> <span class="n">ii</span><span class="p">:</span><span class="n">n</span> <span class="o">*</span> <span class="p">(</span><span class="n">ii</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)]</span> <span class="o">+=</span> <span class="p">(</span><span class="n">tmpx</span> <span class="o">+</span> <span class="n">yiss</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
            <span class="n">ii</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="c1"># creating the intensity arrays (which phase to have at which pixel)</span>
        <span class="n">intensities</span><span class="p">[</span><span class="n">intensities</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">intensities</span> <span class="o">=</span> <span class="n">intensities</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">intensities</span><span class="p">)</span> <span class="o">*</span> <span class="n">n</span> <span class="o">**</span> <span class="mi">2</span>  <span class="c1"># normalize</span>
        <span class="n">tmpint</span> <span class="o">=</span> <span class="n">intensities</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="n">beam</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">strong_beams</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">strong_beams_int</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">weak_beams</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">weak_beams_int</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">intens</span> <span class="ow">in</span> <span class="n">tmpint</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">intens</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">strong_beams</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">beam</span><span class="p">)</span>
                <span class="n">strong_beams_int</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">intens</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">intens</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">weak_beams</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">beam</span><span class="p">)</span>
                <span class="n">weak_beams_int</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">intens</span><span class="p">)</span>
            <span class="n">beam</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="c1"># normalize to one</span>
        <span class="n">strong_beams_int</span> <span class="o">=</span> <span class="n">strong_beams_int</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">strong_beams_int</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">wbeam</span><span class="p">,</span> <span class="n">wbeam_int</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">weak_beams</span><span class="p">,</span> <span class="n">weak_beams_int</span><span class="p">):</span>
            <span class="n">nbr_pixels</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ceil</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">wbeam_int</span><span class="p">)</span> <span class="o">*</span> <span class="n">totnum</span><span class="p">)</span>  <span class="c1"># nbrpxls to change</span>
            <span class="n">nbr_each</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ceil</span><span class="p">(</span><span class="n">nbr_pixels</span> <span class="o">*</span> <span class="n">strong_beams_int</span><span class="p">)</span>
            <span class="n">strt</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">for</span> <span class="n">nbr</span><span class="p">,</span> <span class="n">sbeam</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">nbr_each</span><span class="p">,</span> <span class="n">strong_beams</span><span class="p">):</span>
                <span class="n">phase_nbr</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">wbeam</span><span class="p">),</span> <span class="n">strt</span><span class="p">:(</span><span class="n">strt</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="n">nbr</span><span class="p">))]</span> <span class="o">=</span> <span class="n">sbeam</span>
                <span class="n">strt</span> <span class="o">+=</span> <span class="nb">int</span><span class="p">(</span><span class="n">nbr</span><span class="p">)</span>
        <span class="n">rng</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">default_rng</span><span class="p">()</span>
        <span class="n">rng</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">phase_nbr</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># mixing so the changed are not together</span>
        <span class="c1"># tic6 = time.perf_counter()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ent_pxsiz</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
            <span class="n">pxsiz</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ent_pxsiz</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">pxsiz</span> <span class="o">=</span> <span class="mi">1</span>

        <span class="c1"># creating the total phase by adding the different ones</span>
        <span class="n">xrange</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">slm_size</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">yrange</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">slm_size</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">tot_phase</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">slm_size</span><span class="p">)</span>
        <span class="p">[</span><span class="n">X</span><span class="p">,</span> <span class="n">Y</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">meshgrid</span><span class="p">(</span><span class="n">xrange</span><span class="p">,</span> <span class="n">yrange</span><span class="p">)</span>
        <span class="n">ind_phase_tmp</span> <span class="o">=</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">floor</span><span class="p">(</span><span class="n">X</span> <span class="o">/</span> <span class="n">pxsiz</span><span class="p">)</span> <span class="o">%</span> <span class="n">n</span><span class="p">)</span> <span class="o">*</span> <span class="n">n</span> <span class="o">+</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">floor</span><span class="p">(</span><span class="n">Y</span> <span class="o">/</span> <span class="n">pxsiz</span><span class="p">)</span> <span class="o">%</span> <span class="n">n</span><span class="p">)</span>
        <span class="n">ind_phase</span> <span class="o">=</span> <span class="n">ind_phase_tmp</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>

        <span class="n">ind_phase2</span> <span class="o">=</span> <span class="n">ind_phase</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">ii</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span> <span class="o">**</span> <span class="mi">2</span><span class="p">):</span>
            <span class="n">max_nbr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">count_nonzero</span><span class="p">(</span><span class="n">ind_phase</span> <span class="o">==</span> <span class="n">ii</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">max_nbr</span> <span class="o">&lt;=</span> <span class="n">phase_nbr</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="p">:]</span><span class="o">.</span><span class="n">size</span><span class="p">:</span>
                <span class="n">ind_phase2</span><span class="p">[</span><span class="n">ind_phase</span> <span class="o">==</span> <span class="n">ii</span><span class="p">]</span> <span class="o">=</span> <span class="n">phase_nbr</span><span class="p">[</span><span class="n">ii</span><span class="p">,</span> <span class="mi">0</span><span class="p">:</span><span class="n">max_nbr</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">extra</span> <span class="o">=</span> <span class="n">ii</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">([</span><span class="n">max_nbr</span> <span class="o">-</span> <span class="n">phase_nbr</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="p">:]</span><span class="o">.</span><span class="n">size</span><span class="p">])</span>
                <span class="n">ind_phase2</span><span class="p">[</span><span class="n">ind_phase</span> <span class="o">==</span> <span class="n">ii</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">phase_nbr</span><span class="p">[</span><span class="n">ii</span><span class="p">,</span> <span class="p">:],</span> <span class="n">extra</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">ii</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span> <span class="o">**</span> <span class="mi">2</span><span class="p">):</span>
            <span class="n">ii_phase</span> <span class="o">=</span> <span class="n">phases</span><span class="p">[:,</span> <span class="p">:,</span> <span class="n">ii</span><span class="p">]</span>
            <span class="n">tot_phase</span><span class="p">[</span><span class="n">ind_phase2</span> <span class="o">==</span> <span class="n">ii</span><span class="p">]</span> <span class="o">=</span> <span class="n">ii_phase</span><span class="p">[</span><span class="n">ind_phase2</span> <span class="o">==</span> <span class="n">ii</span><span class="p">]</span>

        <span class="k">return</span> <span class="n">tot_phase</span></div>

<div class="viewcode-block" id="TypeMultibeam.phase_tilt"><a class="viewcode-back" href="../../model.html#model.phase_settings.TypeMultibeam.phase_tilt">[docs]</a>    <span class="k">def</span> <span class="nf">phase_tilt</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">xdir</span><span class="p">,</span> <span class="n">ydir</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculate the phase shift due to tilting.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        xdir : str</span>
<span class="sd">            The tilt in the x-direction in micrometers.</span>
<span class="sd">        ydir : str</span>
<span class="sd">            The tilt in the y-direction in micrometers.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        numpy.ndarray</span>
<span class="sd">            The phase shift due to tilting.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">xdir</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span> <span class="ow">and</span> <span class="nb">float</span><span class="p">(</span><span class="n">xdir</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">lim</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="n">slm_size</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="nb">float</span><span class="p">(</span><span class="n">xdir</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">slm_size</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span>
            <span class="n">phx</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="n">lim</span><span class="p">,</span> <span class="o">+</span><span class="n">lim</span><span class="p">,</span> <span class="n">slm_size</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">phx</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">slm_size</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">ydir</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span> <span class="ow">and</span> <span class="nb">float</span><span class="p">(</span><span class="n">ydir</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">lim</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="n">slm_size</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">*</span> <span class="nb">float</span><span class="p">(</span><span class="n">ydir</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">slm_size</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span>
            <span class="n">phy</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="n">lim</span><span class="p">,</span> <span class="o">+</span><span class="n">lim</span><span class="p">,</span> <span class="n">slm_size</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">phy</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">slm_size</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">phx</span> <span class="o">+</span> <span class="n">phy</span></div>

<div class="viewcode-block" id="TypeMultibeam.save_"><a class="viewcode-back" href="../../model.html#model.phase_settings.TypeMultibeam.save_">[docs]</a>    <span class="k">def</span> <span class="nf">save_</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Save the current state of the TypeMultibeam object.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        dict : dict</span>
<span class="sd">            A dictionary of the current state.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;n&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">ent_n</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                <span class="s1">&#39;hpt&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">ent_hpt</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                <span class="s1">&#39;rad&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">ent_rad</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                <span class="s1">&#39;hit&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">ent_hit</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                <span class="s1">&#39;his&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">ent_his</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                <span class="s1">&#39;vpt&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">ent_vpt</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                <span class="s1">&#39;amp&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">ent_amp</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                <span class="s1">&#39;vit&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">ent_vit</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                <span class="s1">&#39;vis&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">ent_vis</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                <span class="s1">&#39;pxsiz&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">ent_pxsiz</span><span class="o">.</span><span class="n">get</span><span class="p">()}</span>
        <span class="k">return</span> <span class="nb">dict</span></div>

<div class="viewcode-block" id="TypeMultibeam.load_"><a class="viewcode-back" href="../../model.html#model.phase_settings.TypeMultibeam.load_">[docs]</a>    <span class="k">def</span> <span class="nf">load_</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Load a saved state for the TypeMultibeam object.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        dict : dict</span>
<span class="sd">            A dictionary of the saved state.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">strvar_n</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="nb">dict</span><span class="p">[</span><span class="s1">&#39;n&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">strvar_hpt</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="nb">dict</span><span class="p">[</span><span class="s1">&#39;hpt&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">strvar_rad</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="nb">dict</span><span class="p">[</span><span class="s1">&#39;rad&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">strvar_hit</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="nb">dict</span><span class="p">[</span><span class="s1">&#39;hit&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">strvar_his</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="nb">dict</span><span class="p">[</span><span class="s1">&#39;his&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">strvar_vpt</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="nb">dict</span><span class="p">[</span><span class="s1">&#39;vpt&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">strvar_amp</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="nb">dict</span><span class="p">[</span><span class="s1">&#39;amp&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">strvar_vit</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="nb">dict</span><span class="p">[</span><span class="s1">&#39;vit&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">strvar_vis</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="nb">dict</span><span class="p">[</span><span class="s1">&#39;vis&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">strvar_pxsiz</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="nb">dict</span><span class="p">[</span><span class="s1">&#39;pxsiz&#39;</span><span class="p">])</span></div></div>


<div class="viewcode-block" id="TypeVortex"><a class="viewcode-back" href="../../model.html#model.phase_settings.TypeVortex">[docs]</a><span class="k">class</span> <span class="nc">TypeVortex</span><span class="p">(</span><span class="n">BaseType</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;shows vortex settings for phase&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initialize the TypeVortex class.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        parent : Tk object</span>
<span class="sd">            The parent window for the frame.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;Vortex&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">frm_</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">parent</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">frm_</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">)</span>
        <span class="n">lbl_frm</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">LabelFrame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frm_</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Vortex&#39;</span><span class="p">)</span>
        <span class="n">lbl_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">)</span>

        <span class="n">lbl_texts</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Vortex order:&#39;</span><span class="p">,</span> <span class="s1">&#39;dx [mm]:&#39;</span><span class="p">,</span> <span class="s1">&#39;dy [mm]:&#39;</span><span class="p">]</span>
        <span class="n">labels</span> <span class="o">=</span> <span class="p">[</span><span class="n">tk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">lbl_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="n">lbl_text</span><span class="p">)</span> <span class="k">for</span> <span class="n">lbl_text</span> <span class="ow">in</span> <span class="n">lbl_texts</span><span class="p">]</span>
        <span class="n">vcmd</span> <span class="o">=</span> <span class="p">(</span><span class="n">parent</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">callback</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">strvars</span> <span class="o">=</span> <span class="p">[</span><span class="n">tk</span><span class="o">.</span><span class="n">StringVar</span><span class="p">()</span> <span class="k">for</span> <span class="n">lbl_text</span> <span class="ow">in</span> <span class="n">lbl_texts</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entries</span> <span class="o">=</span> <span class="p">[</span><span class="n">tk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">lbl_frm</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">,</span>
                                 <span class="n">validatecommand</span><span class="o">=</span><span class="p">(</span><span class="n">vcmd</span><span class="p">,</span> <span class="s1">&#39;</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;%P&#39;</span><span class="p">,</span> <span class="s1">&#39;%S&#39;</span><span class="p">),</span>
                                 <span class="n">textvariable</span><span class="o">=</span><span class="n">strvar</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">strvar</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">strvars</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">ind</span><span class="p">,</span> <span class="n">label</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">labels</span><span class="p">):</span>
            <span class="n">label</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="n">ind</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">ind</span><span class="p">,</span> <span class="n">entry</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">entries</span><span class="p">):</span>
            <span class="n">entry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="n">ind</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>

<div class="viewcode-block" id="TypeVortex.phase"><a class="viewcode-back" href="../../model.html#model.phase_settings.TypeVortex.phase">[docs]</a>    <span class="k">def</span> <span class="nf">phase</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">coeffs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">entries</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">entry</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">entries</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">entry</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
                <span class="n">coeffs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">entry</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
        <span class="n">vor</span><span class="p">,</span> <span class="n">dx</span><span class="p">,</span> <span class="n">dy</span> <span class="o">=</span> <span class="n">coeffs</span>
        <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="n">chip_width</span> <span class="o">*</span> <span class="mi">500</span> <span class="o">+</span> <span class="n">dx</span><span class="p">,</span> <span class="n">chip_width</span> <span class="o">*</span> <span class="mi">500</span> <span class="o">+</span> <span class="n">dx</span><span class="p">,</span> <span class="n">slm_size</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="n">chip_height</span> <span class="o">*</span> <span class="mi">500</span> <span class="o">+</span> <span class="n">dy</span><span class="p">,</span> <span class="n">chip_height</span> <span class="o">*</span> <span class="mi">500</span> <span class="o">+</span> <span class="n">dy</span><span class="p">,</span> <span class="n">slm_size</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="p">[</span><span class="n">X</span><span class="p">,</span> <span class="n">Y</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">meshgrid</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
        <span class="n">theta</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arctan2</span><span class="p">(</span><span class="n">Y</span><span class="p">,</span> <span class="n">X</span><span class="p">)</span>
        <span class="n">phase</span> <span class="o">=</span> <span class="n">vor</span> <span class="o">*</span> <span class="n">theta</span> <span class="o">*</span> <span class="n">bit_depth</span>
        <span class="k">return</span> <span class="n">phase</span></div>

<div class="viewcode-block" id="TypeVortex.save_"><a class="viewcode-back" href="../../model.html#model.phase_settings.TypeVortex.save_">[docs]</a>    <span class="k">def</span> <span class="nf">save_</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Save the current state of the TypeVortex object.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        dict : dict</span>
<span class="sd">            A dictionary of the current state.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;vort_ord&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">entries</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">()}</span>
        <span class="k">return</span> <span class="nb">dict</span></div>

<div class="viewcode-block" id="TypeVortex.load_"><a class="viewcode-back" href="../../model.html#model.phase_settings.TypeVortex.load_">[docs]</a>    <span class="k">def</span> <span class="nf">load_</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Load a saved state for the TypeVortex object.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        dict : dict</span>
<span class="sd">            A dictionary of the saved state.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">strvars</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="nb">dict</span><span class="p">[</span><span class="s1">&#39;vort_ord&#39;</span><span class="p">])</span></div></div>


<div class="viewcode-block" id="TypeZernike"><a class="viewcode-back" href="../../model.html#model.phase_settings.TypeZernike">[docs]</a><span class="k">class</span> <span class="nc">TypeZernike</span><span class="p">(</span><span class="n">BaseType</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Class for managing Zernike polynomials settings for a phase calculation.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    name : str</span>
<span class="sd">        Name of the class.</span>
<span class="sd">    frm_ : Tkinter Frame</span>
<span class="sd">        The parent window for the frame.</span>
<span class="sd">    varnames : list of str</span>
<span class="sd">        List of variable names.</span>
<span class="sd">    strvars : list of Tkinter StringVar</span>
<span class="sd">        List of StringVar objects for labels.</span>
<span class="sd">    entries : list of Tkinter Entry</span>
<span class="sd">        List of Entry objects for user input.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initialize the TypeZernike class.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        parent : Tk object</span>
<span class="sd">            The parent window for the frame.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;Zernike&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">frm_</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">parent</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">frm_</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">)</span>
        <span class="n">lbl_frm</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">LabelFrame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frm_</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Zernike&#39;</span><span class="p">)</span>
        <span class="n">lbl_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">varnames</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;z1coef&#39;</span><span class="p">,</span> <span class="s1">&#39;z2coef&#39;</span><span class="p">,</span> <span class="s1">&#39;z3coef&#39;</span><span class="p">,</span> <span class="s1">&#39;z4coef&#39;</span><span class="p">,</span> <span class="s1">&#39;z5coef&#39;</span><span class="p">,</span>
                         <span class="s1">&#39;z6coef&#39;</span><span class="p">,</span> <span class="s1">&#39;z7coef&#39;</span><span class="p">,</span> <span class="s1">&#39;z8coef&#39;</span><span class="p">,</span> <span class="s1">&#39;z9coef&#39;</span><span class="p">,</span> <span class="s1">&#39;z10coef&#39;</span><span class="p">,</span>
                         <span class="s1">&#39;zsize&#39;</span><span class="p">,</span> <span class="s1">&#39;zdx&#39;</span><span class="p">,</span> <span class="s1">&#39;zdy&#39;</span><span class="p">]</span>
        <span class="n">lbl_texts</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Z_00 :&#39;</span><span class="p">,</span> <span class="s1">&#39;Z_11 :&#39;</span><span class="p">,</span> <span class="s1">&#39;Z_-11 :&#39;</span><span class="p">,</span>
                     <span class="s1">&#39;Z_02 :&#39;</span><span class="p">,</span> <span class="s1">&#39;Z_22 :&#39;</span><span class="p">,</span> <span class="s1">&#39;Z_-22 :&#39;</span><span class="p">,</span>
                     <span class="s1">&#39;Z_13 :&#39;</span><span class="p">,</span> <span class="s1">&#39;Z_-13 :&#39;</span><span class="p">,</span> <span class="s1">&#39;Z_33 :&#39;</span><span class="p">,</span>
                     <span class="s1">&#39;Z_-33 :&#39;</span><span class="p">,</span> <span class="s1">&#39;Z size:&#39;</span><span class="p">,</span> <span class="s1">&#39;dx [mm]:&#39;</span><span class="p">,</span> <span class="s1">&#39;dy [mm]:&#39;</span><span class="p">]</span>
        <span class="n">labels</span> <span class="o">=</span> <span class="p">[</span><span class="n">tk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">lbl_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="n">lbl_text</span><span class="p">)</span> <span class="k">for</span> <span class="n">lbl_text</span> <span class="ow">in</span> <span class="n">lbl_texts</span><span class="p">]</span>
        <span class="n">vcmd</span> <span class="o">=</span> <span class="p">(</span><span class="n">parent</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">callback</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">strvars</span> <span class="o">=</span> <span class="p">[</span><span class="n">tk</span><span class="o">.</span><span class="n">StringVar</span><span class="p">()</span> <span class="k">for</span> <span class="n">lbl_text</span> <span class="ow">in</span> <span class="n">lbl_texts</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entries</span> <span class="o">=</span> <span class="p">[</span><span class="n">tk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">lbl_frm</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">,</span>
                                 <span class="n">validatecommand</span><span class="o">=</span><span class="p">(</span><span class="n">vcmd</span><span class="p">,</span> <span class="s1">&#39;</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;%P&#39;</span><span class="p">,</span> <span class="s1">&#39;%S&#39;</span><span class="p">),</span>
                                 <span class="n">textvariable</span><span class="o">=</span><span class="n">strvar</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">strvar</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">strvars</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">ind</span><span class="p">,</span> <span class="n">label</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">labels</span><span class="p">):</span>
            <span class="n">label</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="n">ind</span> <span class="o">%</span> <span class="mi">10</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span> <span class="o">*</span> <span class="nb">int</span><span class="p">(</span><span class="n">ind</span> <span class="o">/</span> <span class="mi">10</span><span class="p">),</span>
                       <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">ind</span><span class="p">,</span> <span class="n">entry</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">entries</span><span class="p">):</span>
            <span class="n">entry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="n">ind</span> <span class="o">%</span> <span class="mi">10</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span> <span class="o">*</span> <span class="nb">int</span><span class="p">(</span><span class="n">ind</span> <span class="o">/</span> <span class="mi">10</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span>
                       <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>

<div class="viewcode-block" id="TypeZernike.phase"><a class="viewcode-back" href="../../model.html#model.phase_settings.TypeZernike.phase">[docs]</a>    <span class="k">def</span> <span class="nf">phase</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Computes the phase value using Zernike polynomials.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        numpy.ndarray</span>
<span class="sd">            Array of phase values computed using Zernike polynomials.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">coeffs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">entries</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">)</span>
        <span class="n">coeffs</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>

        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">entry</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">entries</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">entry</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
                <span class="n">coeffs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">entry</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
        <span class="n">zsize</span><span class="p">,</span> <span class="n">zdx</span><span class="p">,</span> <span class="n">zdy</span> <span class="o">=</span> <span class="n">coeffs</span><span class="p">[</span><span class="mi">10</span><span class="p">:]</span>

        <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="n">chip_width</span> <span class="o">*</span> <span class="mi">100</span> <span class="o">+</span> <span class="n">zdx</span><span class="p">,</span> <span class="n">chip_width</span> <span class="o">*</span> <span class="mi">100</span> <span class="o">+</span> <span class="n">zdx</span><span class="p">,</span> <span class="n">slm_size</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="n">chip_height</span> <span class="o">*</span> <span class="mi">100</span> <span class="o">+</span> <span class="n">zdy</span><span class="p">,</span> <span class="n">chip_height</span> <span class="o">*</span> <span class="mi">100</span> <span class="o">+</span> <span class="n">zdy</span><span class="p">,</span> <span class="n">slm_size</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="p">[</span><span class="n">X</span><span class="p">,</span> <span class="n">Y</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">meshgrid</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
        <span class="n">theta</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arctan2</span><span class="p">(</span><span class="n">Y</span><span class="p">,</span> <span class="n">X</span><span class="p">)</span>
        <span class="n">rho</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">X</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">Y</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span> <span class="o">/</span> <span class="n">zsize</span>

        <span class="n">p1</span> <span class="o">=</span> <span class="n">coeffs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mi">1</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="mi">0</span> <span class="o">*</span> <span class="n">theta</span><span class="p">)</span>
        <span class="n">p2</span> <span class="o">=</span> <span class="n">coeffs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">rho</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="mi">1</span> <span class="o">*</span> <span class="n">theta</span><span class="p">)</span>
        <span class="n">p3</span> <span class="o">=</span> <span class="n">coeffs</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">rho</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="mi">1</span> <span class="o">*</span> <span class="n">theta</span><span class="p">)</span>
        <span class="n">p4</span> <span class="o">=</span> <span class="n">coeffs</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">rho</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="mi">0</span> <span class="o">*</span> <span class="n">theta</span><span class="p">)</span>
        <span class="n">p5</span> <span class="o">=</span> <span class="n">coeffs</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">*</span> <span class="n">rho</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">theta</span><span class="p">)</span>
        <span class="n">p6</span> <span class="o">=</span> <span class="n">coeffs</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">*</span> <span class="n">rho</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">theta</span><span class="p">)</span>
        <span class="n">p7</span> <span class="o">=</span> <span class="n">coeffs</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="mi">3</span> <span class="o">*</span> <span class="n">rho</span> <span class="o">**</span> <span class="mi">3</span> <span class="o">-</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">rho</span><span class="p">)</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="mi">1</span> <span class="o">*</span> <span class="n">theta</span><span class="p">)</span>
        <span class="n">p8</span> <span class="o">=</span> <span class="n">coeffs</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="mi">3</span> <span class="o">*</span> <span class="n">rho</span> <span class="o">**</span> <span class="mi">3</span> <span class="o">-</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">rho</span><span class="p">)</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="mi">1</span> <span class="o">*</span> <span class="n">theta</span><span class="p">)</span>
        <span class="n">p9</span> <span class="o">=</span> <span class="n">coeffs</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">*</span> <span class="n">rho</span> <span class="o">**</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="mi">3</span> <span class="o">*</span> <span class="n">theta</span><span class="p">)</span>
        <span class="n">p10</span> <span class="o">=</span> <span class="n">coeffs</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span> <span class="o">*</span> <span class="n">rho</span> <span class="o">**</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="mi">3</span> <span class="o">*</span> <span class="n">theta</span><span class="p">)</span>

        <span class="n">phase</span> <span class="o">=</span> <span class="p">(</span><span class="n">p1</span> <span class="o">+</span> <span class="n">p2</span> <span class="o">+</span> <span class="n">p3</span> <span class="o">+</span> <span class="n">p4</span> <span class="o">+</span> <span class="n">p5</span> <span class="o">+</span> <span class="n">p6</span> <span class="o">+</span> <span class="n">p7</span> <span class="o">+</span> <span class="n">p8</span> <span class="o">+</span> <span class="n">p9</span> <span class="o">+</span> <span class="n">p10</span><span class="p">)</span> <span class="o">*</span> <span class="n">bit_depth</span>

        <span class="k">return</span> <span class="n">phase</span></div>

<div class="viewcode-block" id="TypeZernike.save_"><a class="viewcode-back" href="../../model.html#model.phase_settings.TypeZernike.save_">[docs]</a>    <span class="k">def</span> <span class="nf">save_</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Save the current state of the TypeVortex object.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        dict : dict</span>
<span class="sd">            A dictionary of the current state.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">dict</span> <span class="o">=</span> <span class="p">{</span><span class="n">varname</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">entries</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
                <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">varname</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">varnames</span><span class="p">)}</span>
        <span class="k">return</span> <span class="nb">dict</span></div>

<div class="viewcode-block" id="TypeZernike.load_"><a class="viewcode-back" href="../../model.html#model.phase_settings.TypeZernike.load_">[docs]</a>    <span class="k">def</span> <span class="nf">load_</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Load a saved state for the TypeZernike object.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        dict : dict</span>
<span class="sd">            A dictionary of the saved state.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">varname</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">varnames</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">strvars</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="nb">dict</span><span class="p">[</span><span class="n">varname</span><span class="p">])</span></div></div>


<div class="viewcode-block" id="TypeImage"><a class="viewcode-back" href="../../model.html#model.phase_settings.TypeImage">[docs]</a><span class="k">class</span> <span class="nc">TypeImage</span><span class="p">(</span><span class="n">TypeBackground</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A class managing image settings for a phase calculation.</span>

<span class="sd">   Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    name : str</span>
<span class="sd">        The name of the class instance.</span>
<span class="sd">    frm_ : Tkinter.Frame</span>
<span class="sd">        The Tkinter frame for the class instance.</span>
<span class="sd">    lbl_file : Tkinter.Label</span>
<span class="sd">        The Tkinter label to display the selected file.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initialize the TypeImage class.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        parent : Tk object</span>
<span class="sd">            The parent window for the frame.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;Image&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">frm_</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">parent</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">frm_</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>  <span class="c1"># , sticky=&#39;nsew&#39;)</span>
        <span class="n">lbl_frm</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">LabelFrame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frm_</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Image&#39;</span><span class="p">)</span>
        <span class="n">lbl_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">)</span>

        <span class="n">btn_open</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">lbl_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Open Phase Profile&#39;</span><span class="p">,</span>
                             <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">open_file</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lbl_file</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">lbl_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">wraplength</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">justify</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)</span>
        <span class="n">btn_open</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lbl_file</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span></div>


<div class="viewcode-block" id="TypeHologram"><a class="viewcode-back" href="../../model.html#model.phase_settings.TypeHologram">[docs]</a><span class="k">class</span> <span class="nc">TypeHologram</span><span class="p">(</span><span class="n">BaseType</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A class managing hologram settings for a phase calculation.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    name : str</span>
<span class="sd">        Name of the class.</span>
<span class="sd">    parent : Tk object</span>
<span class="sd">        The parent window for the frame.</span>
<span class="sd">    frm_ : tkinter Frame object</span>
<span class="sd">        A tkinter frame object representing the hologram.</span>
<span class="sd">    gen_win : object or None</span>
<span class="sd">        An object representing the generated hologram window.</span>
<span class="sd">    img : numpy.ndarray or None</span>
<span class="sd">        A numpy array representing the image of the hologram.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initialize the Typehologram class.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        parent : Tk object</span>
<span class="sd">            The parent window for the frame.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;Hologram&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">parent</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">frm_</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">frm_</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">)</span>
        <span class="n">lbl_frm</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">LabelFrame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frm_</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Hologram&#39;</span><span class="p">)</span>
        <span class="n">lbl_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gen_win</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">img</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="n">btn_open</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">lbl_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Open generated hologram&#39;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">open_file</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lbl_file</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">lbl_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">wraplength</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span> <span class="n">justify</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">foreground</span><span class="o">=</span><span class="s1">&#39;gray&#39;</span><span class="p">)</span>
        <span class="n">lbl_act_file</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">lbl_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Active Hologram file:&#39;</span><span class="p">,</span> <span class="n">justify</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)</span>
        <span class="n">btn_generate</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">lbl_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Launch Hologram Generator&#39;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">open_generator</span><span class="p">)</span>

        <span class="n">btn_open</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">lbl_act_file</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lbl_file</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
        <span class="n">btn_generate</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

<div class="viewcode-block" id="TypeHologram.open_generator"><a class="viewcode-back" href="../../model.html#model.phase_settings.TypeHologram.open_generator">[docs]</a>    <span class="k">def</span> <span class="nf">open_generator</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Open the hologram generator window if it doesn&#39;t already exist.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">gen_win</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">gen_win</span> <span class="o">=</span> <span class="n">gs</span><span class="o">.</span><span class="n">GSWindow</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>

<div class="viewcode-block" id="TypeHologram.phase"><a class="viewcode-back" href="../../model.html#model.phase_settings.TypeHologram.phase">[docs]</a>    <span class="k">def</span> <span class="nf">phase</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the current phase data.</span>

<span class="sd">        If an image has been loaded, use its data as the phase. Otherwise,</span>
<span class="sd">        create a zeros array phase.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        phase : np.ndarray</span>
<span class="sd">            The phase data.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">img</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">phase</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">img</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">phase</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">slm_size</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">phase</span></div>

<div class="viewcode-block" id="TypeHologram.save_"><a class="viewcode-back" href="../../model.html#model.phase_settings.TypeHologram.save_">[docs]</a>    <span class="k">def</span> <span class="nf">save_</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Save the current state of the TypeHologram object.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        dict : dict</span>
<span class="sd">            A dictionary of the current state.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;filepath&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">lbl_file</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">]}</span>
        <span class="k">return</span> <span class="nb">dict</span></div>

<div class="viewcode-block" id="TypeHologram.load_"><a class="viewcode-back" href="../../model.html#model.phase_settings.TypeHologram.load_">[docs]</a>    <span class="k">def</span> <span class="nf">load_</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Load a saved state for the TypeHologram object.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        dict : dict</span>
<span class="sd">            A dictionary of the saved state.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lbl_file</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">[</span><span class="s1">&#39;filepath&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_read_file</span><span class="p">(</span><span class="nb">dict</span><span class="p">[</span><span class="s1">&#39;filepath&#39;</span><span class="p">])</span></div></div>
</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Lund Atomic Physics.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>